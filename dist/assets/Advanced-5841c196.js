import{u as P,r as s,s as E,b as t,j as l,g as C}from"./index-25ad2e17.js";import{N as R}from"./index-86d7ae8f.js";import{s as p}from"./sortBy-e604169a.js";import{l as k}from"./index-3a06671e.js";import"./floating-ui.dom.browser.min-e93d2b51.js";import"./_baseIsEqual-b3f5afe3.js";import"./_defineProperty-9346cf44.js";const H=()=>{const d=P();s.useEffect(()=>{d(E("Advanced Table"))},[d]);const g=["Id","Name","Email","Message","Date Time"],[c,m]=s.useState(1),u=[12,15,20,25,30,50,100],[n,f]=s.useState(u[0]),[N,x]=s.useState([]),[b,v]=s.useState([]),[y,S]=s.useState([]),[i,h]=s.useState([]),[r,T]=s.useState({columnAccessor:"id",direction:"asc"});function D(){k.downloadExcel({fileName:"table",sheet:"react-export-table-to-excel",tablePayload:{header:g,body:N}})}const w=async()=>{const e={"Content-Type":"application/json",authorization:"Bearer "+localStorage.getItem("accessToken")},a=await C("/v1/money/getTransection",{},e);x(a);const o=p(a,"id");v(o),h(o)};return s.useEffect(()=>{w()},[n]),s.useEffect(()=>{const e=(c-1)*n,a=e+n;S(i.slice(e,a))},[c,n,i]),s.useEffect(()=>{const e=p(b,r.columnAccessor),a=r.direction==="desc"?e.reverse():e;h(a),m(1)},[r,b]),t("div",{children:l("div",{className:"panel",children:[t("div",{className:"flex md:items-center justify-between md:flex-row flex-col mb-4.5 gap-5",children:l("div",{className:"flex items-center flex-wrap",children:[t("button",{type:"button",onClick:()=>exportTable("csv"),className:"btn btn-primary btn-sm m-1",children:"CSV"}),t("button",{type:"button",onClick:()=>exportTable("txt"),className:"btn btn-primary btn-sm m-1",children:"TXT"}),t("button",{type:"button",className:"btn btn-primary btn-sm m-1",onClick:D,children:"EXCEL"}),t("button",{type:"button",onClick:()=>exportTable("print"),className:"btn btn-primary btn-sm m-1",children:"PRINT"})]})}),t("h5",{className:"font-semibold text-lg dark:text-white-light mb-5",children:"Messages from website"}),t("div",{className:"datatables",children:t(R,{noRecordsText:"No results match your search query",highlightOnHover:!0,className:"whitespace-nowrap table-hover",records:y,columns:[{title:"ID",sortable:!0,render:(e,a)=>l("strong",{className:"text-info",children:["#",a+1]})},{accessor:"transectionTitle",title:"Title",sortable:!0,render:({transectionTitle:e})=>t("div",{className:"flex items-center gap-2",children:t("div",{className:"font-semibold",children:e})})},{accessor:"transectionAmount",title:"Amount",sortable:!0,render:({transectionAmount:e})=>t("div",{className:"flex items-center gap-2",children:t("div",{className:"font-semibold",children:e})})},{accessor:"paymentMethodName",title:"Payment Method",sortable:!0,render:({paymentMethodName:e})=>t("div",{className:"flex items-center gap-2",children:t("div",{className:"font-semibold",children:e})})},{accessor:"transectionType",title:"Transaction Type",sortable:!0,render:({transectionType:e})=>e=="1"?t("span",{className:"badge bg-success",children:"Income"}):e=="0"?t("span",{className:"badge bg-danger",children:"Expense"}):t("span",{className:"badge bg-info",children:"Transfer"})},{accessor:"bankName",title:"Bank Name",sortable:!0,render:({bankName:e})=>t("div",{className:"flex items-center gap-2",children:t("div",{className:"font-semibold",children:e})})},{accessor:"name",title:"Name",sortable:!0,render:({name:e})=>t("div",{className:"flex items-center gap-2",children:t("div",{className:"font-semibold",children:e})})},{accessor:"transectionTime",title:"Date",sortable:!0,render:({transectionTime:e})=>t("div",{className:"flex items-center gap-2",children:t("div",{className:"font-semibold",children:new Date(e).toLocaleString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"numeric",minute:"numeric",hour12:!0})})})}],totalRecords:i.length,recordsPerPage:n,page:c,onPageChange:e=>m(e),recordsPerPageOptions:u,onRecordsPerPageChange:f,sortStatus:r,onSortStatusChange:T,minHeight:200,paginationText:({from:e,to:a,totalRecords:o})=>`Showing ${e} to ${a} of ${o} entries`})})]})})};export{H as default};
